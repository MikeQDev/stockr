CREATE TABLE USER_T
(
EMAIL VARCHAR2(30),
USERNAME VARCHAR2(20),
PASSWORD VARCHAR2(20),
CONSTRAINT USER_PK PRIMARY KEY (EMAIL)
);
---------------------
CREATE TABLE TICKER
(
SYMBOL VARCHAR2(10),
CURPRICE NUMBER(8,3),
LASTUPDATE DATE,
CONSTRAINT TICKER_PK PRIMARY KEY (SYMBOL)
);
---------------------
CREATE TABLE USERTICK
(
EMAIL VARCHAR2(30),
SYMBOL VARCHAR2(10),
PRICETHRESHOLD NUMBER(8,3),
DATEADDED DATE,
DATEREMOVED DATE,
CONSTRAINT USERTICK_PK PRIMARY KEY (EMAIL, SYMBOL, PRICETHRESHOLD,DATEADDED),
CONSTRAINT USERTICK_FK1 FOREIGN KEY (EMAIL) REFERENCES USER_T(EMAIL),
CONSTRAINT USERTICK_FK2 FOREIGN KEY (SYMBOL) REFERENCES TICKER(SYMBOL)
);
---------------------
---CREATE USER:
INSERT INTO USER_T VALUES('mike@gmail.com','mike','FuckYou');

---ADD STOCK:
SELECT COUNT(*) FROM TICKER WHERE SYMBOL='QQQ'; --- CHECK IF STOCK EXISTS, IF RETURNS 0, IT DOES NOT EXIST.. CREATE IT
	INSERT INTO TICKER VALUES('QQQ',300.33,SYSDATE);
INSERT INTO USERTICK (EMAIL, SYMBOL, DATEADDED, PRICETHRESHOLD) VALUES('mike@gmail.com','QQQ',SYSDATE,290.00);

---GET PRICE FOR EACH USERS TICK:
SELECT TICKER.SYMBOL,CURPRICE
FROM TICKER
INNER JOIN USERTICK
ON USERTICK.SYMBOL=TICKER.SYMBOL
WHERE USERTICK.EMAIL='mike@gmail.com';


---GET LAST UPDATE FOR ALL SYMBOLS BEING TRACKED
SELECT symbol,curprice,TO_CHAR
    (lastupdate, 'MM-DD-YYYY HH24:MI:SS') "LastUpdate"
     FROM TICKER;






---------------------
CREATE TABLE MIKETEST
(
EMAIL VARCHAR2(30),
USERNAME VARCHAR2(15),
TICKER VARCHAR2(6),
CONSTRAINT MIKETEST_PK PRIMARY KEY (EMAIL)
);
---------------------
INSERT INTO MIKETEST VALUES('MIKE@GOOGLE.COM','MYUSER','QQQ');